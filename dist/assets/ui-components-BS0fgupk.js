var Bt=Object.defineProperty,Ht=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var ns=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable;var ls=(s,a,r)=>a in s?Bt(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,d=(s,a)=>{for(var r in a||(a={}))ns.call(a,r)&&ls(s,r,a[r]);if(Se)for(var r of Se(a))is.call(a,r)&&ls(s,r,a[r]);return s},C=(s,a)=>Ht(s,Gt(a));var x=(s,a)=>{var r={};for(var o in s)ns.call(s,o)&&a.indexOf(o)<0&&(r[o]=s[o]);if(s!=null&&Se)for(var o of Se(s))a.indexOf(o)<0&&is.call(s,o)&&(r[o]=s[o]);return r};var Fe=(s,a,r)=>new Promise((o,t)=>{var n=h=>{try{N(r.next(h))}catch(y){t(y)}},u=h=>{try{N(r.throw(h))}catch(y){t(y)}},N=h=>h.done?o(h.value):Promise.resolve(h.value).then(n,u);N((r=r.apply(s,a)).next())});import{r as l,j as e,b0 as fs,b1 as bs,b2 as ye,b3 as Ns,b4 as vs,b5 as js,b6 as ys,b7 as Ut,b8 as Wt,b9 as Jt,ba as ws,bb as Yt,bc as Xt,bd as qt,be as Kt,bf as Cs,bg as Qt,bh as Ss,bi as Zt,bj as ks,bk as Ts,bl as ea,bm as sa,bn as Rs,bo as ta,bp as Is,bq as zs,br as aa,bs as Ds,bt as ra,bu as Ps,bv as Ls,bw as oa,bx as la,by as Es,bz as na,bA as ia,bB as da,bC as $s,bD as Ms,bE as As,bF as ca,bG as ma,bH as xa,bI as Fs,bJ as Os,bK as ua,bL as ha,bM as pa,bN as ga,bO as fa,bP as _s,bQ as Vs,bR as ba,bS as Na,bT as Bs,bU as va,a_ as ja,bV as Hs,bW as Gs,bX as Us,bY as Ws,bZ as ya,b_ as Js,b$ as wa,c0 as Ca,c1 as Sa,c2 as ka,c3 as Ys,c4 as Xs,c5 as qs,c6 as Ks,c7 as Qs,c8 as Zs,c9 as et,ca as st,cb as tt,cc as at,cd as rt,ce as ot,cf as O}from"./vendor-C0BDpuBq.js";import{x as Ta,o as Ra,j as Ia,h as W,y as za}from"./utils-DOoegWIB.js";import{c as m}from"./dashboard-classes-apRN5z4r.js";import{X,a as Pe,C as Be,ai as He,aj as re,a8 as je,a3 as lt,ak as ds,al as cs,L as ms,H as xs,am as us,a9 as Le,an as nt,b as U,ao as Ge,ap as ce,aq as ne,T as Y,Z as it,ar as Da,E as Pa,as as La,A as ke,d as Te,U as _e,P as dt,f as pe,h as ct,i as Ea,D as Re,at as mt,au as $a,av as Ma,t as Aa,_ as Fa,$ as Oa,r as Oe,q as ge,e as Ie,a2 as hs,F as _a,l as Va,y as ps,I as Ba,g as Ha,S as xt,aw as Ga,ax as Ua}from"./icons-vendor-qADr320u.js";import{f as ae}from"./utils-vendor-J2la9FRB.js";const Wa=Ut,ut=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(fs,d({ref:r,className:m("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s)},a))});ut.displayName=fs.displayName;const Ja=ye("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ht=l.forwardRef((t,o)=>{var n=t,{className:s,variant:a}=n,r=x(n,["className","variant"]);return e.jsx(bs,d({ref:o,className:m(Ja({variant:a}),s)},r))});ht.displayName=bs.displayName;const Ya=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Ns,d({ref:r,className:m("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},a))});Ya.displayName=Ns.displayName;const pt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(vs,C(d({ref:r,className:m("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":""},a),{children:e.jsx(X,{className:"h-4 w-4"})}))});pt.displayName=vs.displayName;const gt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(js,d({ref:r,className:m("text-sm font-semibold",s)},a))});gt.displayName=js.displayName;const ft=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(ys,d({ref:r,className:m("text-sm opacity-90",s)},a))});ft.displayName=ys.displayName;function Wr(){const{toasts:s}=Ta();return e.jsxs(Wa,{children:[s.map(function(u){var N=u,{id:a,title:r,description:o,action:t}=N,n=x(N,["id","title","description","action"]);return e.jsxs(ht,C(d({},n),{children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(gt,{children:r}),o&&e.jsx(ft,{children:o})]}),t,e.jsx(pt,{})]}),a)}),e.jsx(ut,{})]})}const Jr=a=>{var s=x(a,[]);const{theme:r="system"}=Wt();return e.jsx(Jt,d({theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},s))},Yr=Yt,Xr=Xt,qr=qt,Xa=l.forwardRef((t,o)=>{var n=t,{className:s,sideOffset:a=4}=n,r=x(n,["className","sideOffset"]);return e.jsx(ws,d({ref:o,sideOffset:a,className:m("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s)},r))});Xa.displayName=ws.displayName;const xe=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("div",d({ref:r,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",s)},a))});xe.displayName="Card";const ze=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("div",d({ref:r,className:m("flex flex-col space-y-1.5 p-6",s)},a))});ze.displayName="CardHeader";const Ue=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("h3",d({ref:r,className:m("text-2xl font-semibold leading-none tracking-tight",s)},a))});Ue.displayName="CardTitle";const qa=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("p",d({ref:r,className:m("text-sm text-muted-foreground",s)},a))});qa.displayName="CardDescription";const ue=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("div",d({ref:r,className:m("p-6 pt-0",s)},a))});ue.displayName="CardContent";const Ka=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("div",d({ref:r,className:m("flex items-center p-6 pt-0",s)},a))});Ka.displayName="CardFooter";const Ve=ye("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef((u,n)=>{var N=u,{className:s,variant:a,size:r,asChild:o=!1}=N,t=x(N,["className","variant","size","asChild"]);const h=o?Kt:"button";return e.jsx(h,d({className:m(Ve({variant:a,size:r,className:s})),ref:n},t))});g.displayName="Button";const q=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("textarea",d({className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r},a))});q.displayName="Textarea";const Qa=ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function F(o){var t=o,{className:s,variant:a}=t,r=x(t,["className","variant"]);return e.jsx("div",d({className:m(Qa({variant:a}),s)},r))}const oe=ea,bt=sa,Za=Qt,Nt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Cs,d({ref:r,className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},a))});Nt.displayName=Cs.displayName;const K=l.forwardRef((t,o)=>{var n=t,{className:s,children:a}=n,r=x(n,["className","children"]);return e.jsxs(Za,{children:[e.jsx(Nt,{}),e.jsxs(Ss,C(d({ref:o,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},r),{children:[a,e.jsxs(Zt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});K.displayName=Ss.displayName;const Q=r=>{var o=r,{className:s}=o,a=x(o,["className"]);return e.jsx("div",d({className:m("flex flex-col space-y-1.5 text-center sm:text-left",s)},a))};Q.displayName="DialogHeader";const Z=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(ks,d({ref:r,className:m("text-lg font-semibold leading-none tracking-tight",s)},a))});Z.displayName=ks.displayName;const vt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Ts,d({ref:r,className:m("text-sm text-muted-foreground",s)},a))});vt.displayName=Ts.displayName;const B=l.forwardRef((t,o)=>{var n=t,{className:s,type:a}=n,r=x(n,["className","type"]);return e.jsx("input",d({type:a,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:o},r))});B.displayName="Input";const fe=na,be=ia,ie=l.forwardRef((t,o)=>{var n=t,{className:s,children:a}=n,r=x(n,["className","children"]);return e.jsxs(Rs,C(d({ref:o,className:m("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},r),{children:[a,e.jsx(ta,{asChild:!0,children:e.jsx(Pe,{className:"h-4 w-4 opacity-50"})})]}))});ie.displayName=Rs.displayName;const jt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Is,C(d({ref:r,className:m("flex cursor-default items-center justify-center py-1",s)},a),{children:e.jsx(Be,{className:"h-4 w-4"})}))});jt.displayName=Is.displayName;const yt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(zs,C(d({ref:r,className:m("flex cursor-default items-center justify-center py-1",s)},a),{children:e.jsx(Pe,{className:"h-4 w-4"})}))});yt.displayName=zs.displayName;const de=l.forwardRef((n,t)=>{var u=n,{className:s,children:a,position:r="popper"}=u,o=x(u,["className","children","position"]);return e.jsx(aa,{children:e.jsxs(Ds,C(d({ref:t,className:m("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r},o),{children:[e.jsx(jt,{}),e.jsx(ra,{className:m("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(yt,{})]}))})});de.displayName=Ds.displayName;const er=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Ps,d({ref:r,className:m("py-1.5 pl-8 pr-2 text-sm font-semibold",s)},a))});er.displayName=Ps.displayName;const te=l.forwardRef((t,o)=>{var n=t,{className:s,children:a}=n,r=x(n,["className","children"]);return e.jsxs(Ls,C(d({ref:o,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},r),{children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(oa,{children:e.jsx(He,{className:"h-4 w-4"})})}),e.jsx(la,{children:a})]}))});te.displayName=Ls.displayName;const sr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Es,d({ref:r,className:m("-mx-1 my-1 h-px bg-muted",s)},a))});sr.displayName=Es.displayName;const Ne=[{name:"Sunshine",value:"bg-gradient-to-br from-yellow-200 to-yellow-300",border:"border-yellow-400",text:"text-yellow-900",shadow:"shadow-yellow-200/50"},{name:"Bubblegum",value:"bg-gradient-to-br from-pink-200 to-pink-300",border:"border-pink-400",text:"text-pink-900",shadow:"shadow-pink-200/50"},{name:"Ocean",value:"bg-gradient-to-br from-blue-200 to-blue-300",border:"border-blue-400",text:"text-blue-900",shadow:"shadow-blue-200/50"},{name:"Forest",value:"bg-gradient-to-br from-green-200 to-green-300",border:"border-green-400",text:"text-green-900",shadow:"shadow-green-200/50"},{name:"Lavender",value:"bg-gradient-to-br from-purple-200 to-purple-300",border:"border-purple-400",text:"text-purple-900",shadow:"shadow-purple-200/50"},{name:"Sunset",value:"bg-gradient-to-br from-orange-200 to-orange-300",border:"border-orange-400",text:"text-orange-900",shadow:"shadow-orange-200/50"},{name:"Cherry",value:"bg-gradient-to-br from-red-200 to-red-300",border:"border-red-400",text:"text-red-900",shadow:"shadow-red-200/50"},{name:"Mint",value:"bg-gradient-to-br from-teal-200 to-teal-300",border:"border-teal-400",text:"text-teal-900",shadow:"shadow-teal-200/50"},{name:"Slate",value:"bg-gradient-to-br from-slate-200 to-slate-300",border:"border-slate-400",text:"text-slate-900",shadow:"shadow-slate-200/50"},{name:"Emerald",value:"bg-gradient-to-br from-emerald-200 to-emerald-300",border:"border-emerald-400",text:"text-emerald-900",shadow:"shadow-emerald-200/50"}],ve=[{value:"low",label:"Low",color:"bg-gray-100 text-gray-700"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-700"},{value:"high",label:"High",color:"bg-red-100 text-red-700"}],tr=({className:s,pageId:a=window.location.pathname})=>{const[r,o]=l.useState(!1),[t,n]=l.useState([]),[u,N]=l.useState([]),[h,y]=l.useState(""),[S,k]=l.useState(""),[T,R]=l.useState([]),[I,p]=l.useState("medium"),[z,E]=l.useState("general"),[M,V]=l.useState(null),[A,v]=l.useState(!1),[b,c]=l.useState(""),[f,w]=l.useState(""),[j,$]=l.useState(Ne[0].value),[we,Qe]=l.useState("medium"),[ee,Ze]=l.useState(!1),[se,le]=l.useState("center"),[Ce,es]=l.useState(""),[Pt,Or]=l.useState(!0),[Ee,Lt]=l.useState("all");l.useEffect(()=>{const i=localStorage.getItem("advancedNoteTaker-notes"),D=localStorage.getItem("advancedNoteTaker-stickyNotes");if(i)try{const P=JSON.parse(i).map(L=>C(d({},L),{timestamp:new Date(L.timestamp)}));n(P)}catch(P){}if(D)try{const P=JSON.parse(D).map(L=>C(d({},L),{timestamp:new Date(L.timestamp)}));N(P)}catch(P){}},[]),l.useEffect(()=>{localStorage.setItem("advancedNoteTaker-notes",JSON.stringify(t))},[t]),l.useEffect(()=>{localStorage.setItem("advancedNoteTaker-stickyNotes",JSON.stringify(u))},[u]);const ss=i=>i.trim()?i.split(`
`).filter(P=>P.trim()).map(P=>{const L=P.trim();return L.startsWith("•")||L.startsWith("-")||L.startsWith("*")?`• ${L.substring(1).trim()}`:`• ${L}`}).join(`
`):"",H=(i,D)=>{switch(D){case"bold":return`**${i}**`;case"italic":return`*${i}*`;case"bullets":return ss(i);case"numbered":return i.split(`
`).filter(L=>L.trim()).map((L,he)=>`${he+1}. ${L.trim()}`).join(`
`);case"header":return`# ${i}`;default:return i}},ts=()=>{Ce.trim()&&!T.includes(Ce.trim())&&(R([...T,Ce.trim()]),es(""))},Et=i=>{R(T.filter(D=>D!==i))},$t=()=>{if(!h.trim())return;const i=ss(h),D={id:Date.now().toString(),title:S||"Untitled Note",content:i,timestamp:new Date,isRichText:!0,tags:T,priority:I,category:z};M?(n(P=>P.map(L=>L.id===M?C(d({},L),{title:S,content:i,tags:T,priority:I,category:z}):L)),V(null)):n(P=>[D,...P]),as()},as=()=>{y(""),k(""),R([]),p("medium"),E("general")},Mt=i=>{k(i.title),y(i.content),R(i.tags),p(i.priority),E(i.category),V(i.id)},At=i=>{n(D=>D.filter(P=>P.id!==i))},Ft=()=>{if(!b.trim())return;let i,D;if(ee){const L=window.innerWidth,he=window.innerHeight,Me=280,Ae=200;switch(se){case"top-left":i=20,D=80;break;case"top-right":i=L-Me-20,D=80;break;case"bottom-left":i=20,D=he-Ae-80;break;case"bottom-right":i=L-Me-20,D=he-Ae-80;break;case"center":default:i=(L-Me)/2,D=(he-Ae)/2;break}}else i=Math.random()*(window.innerWidth-300)+50,D=Math.random()*(window.innerHeight-200)+100;const P={id:Date.now().toString(),title:f||"Quick Note",content:b,x:i,y:D,width:280,height:200,timestamp:new Date,color:j,isCollapsed:!1,isVisible:!0,page:a,tags:[],priority:we,isPinned:ee,pinPosition:ee?se:void 0,opacity:.95,zIndex:1e3};N(L=>[...L,P]),c(""),w(""),$(Ne[0].value),Qe("medium"),Ze(!1),le("center"),v(!1)},Ot=i=>{N(D=>D.filter(P=>P.id!==i))},rs=(i,D)=>{N(P=>P.map(L=>L.id===i?d(d({},L),D):L))},_t=i=>{var D;rs(i,{isCollapsed:!((D=u.find(P=>P.id===i))!=null&&D.isCollapsed)})},Vt=u.filter(i=>i.page===a&&i.isVisible),$e=t.filter(i=>Ee==="all"||i.category===Ee),os=["all","general","sales","analytics","insights","todo","important"];return e.jsxs(e.Fragment,{children:[e.jsx(oe,{open:r,onOpenChange:o,children:e.jsxs(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Q,{children:e.jsxs(Z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Advanced Notes"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Rich formatting • Sticky notes • Persistent storage"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(xe,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(ze,{className:"pb-4",children:e.jsxs(Ue,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-blue-600"}),M?"Edit Note":"Create New Note"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Note Title"}),e.jsx(B,{placeholder:"Enter note title...",value:S,onChange:i=>k(i.target.value),className:"bg-white border-gray-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),e.jsxs(fe,{value:z,onValueChange:E,children:[e.jsx(ie,{className:"bg-white",children:e.jsx(be,{})}),e.jsx(de,{children:os.filter(i=>i!=="all").map(i=>e.jsx(te,{value:i,children:i.charAt(0).toUpperCase()+i.slice(1)},i))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),e.jsxs(fe,{value:I,onValueChange:i=>p(i),children:[e.jsx(ie,{className:"bg-white",children:e.jsx(be,{})}),e.jsx(de,{children:ve.map(i=>e.jsx(te,{value:i.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${i.color}`}),i.label]})},i.value))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{placeholder:"Add tag...",value:Ce,onChange:i=>es(i.target.value),onKeyPress:i=>i.key==="Enter"&&ts(),className:"bg-white border-gray-200"}),e.jsx(g,{onClick:ts,size:"sm",variant:"outline",children:e.jsx(lt,{className:"w-4 h-4"})})]}),T.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:T.map(i=>e.jsxs(F,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>Et(i),children:[i," ",e.jsx(X,{className:"w-3 h-3 ml-1"})]},i))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-gray-200",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(H(h,"bold")),className:"h-8 px-2",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(H(h,"italic")),className:"h-8 px-2",children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(H(h,"bullets")),className:"h-8 px-2",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(H(h,"numbered")),className:"h-8 px-2",children:e.jsx(xs,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(H(h,"header")),className:"h-8 px-2",children:e.jsx(us,{className:"w-4 h-4"})})]})]}),e.jsx(q,{placeholder:"Type your note here... Use the formatting buttons above for rich text.",value:h,onChange:i=>y(i.target.value),className:"min-h-32 bg-white border-gray-200",rows:6}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(g,{onClick:$t,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:!h.trim(),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),M?"Update Note":"Save Note"]}),e.jsxs(g,{onClick:()=>v(!0),variant:"outline",className:"gap-2",children:[e.jsx(nt,{className:"w-4 h-4"}),"Sticky Note"]}),M&&e.jsx(g,{onClick:()=>{V(null),as()},variant:"outline",children:e.jsx(X,{className:"w-4 h-4"})})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Category:"}),e.jsxs(fe,{value:Ee,onValueChange:Lt,children:[e.jsx(ie,{className:"w-40",children:e.jsx(be,{})}),e.jsx(de,{children:os.map(i=>e.jsx(te,{value:i,children:i.charAt(0).toUpperCase()+i.slice(1)},i))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),"Your Notes",e.jsx(F,{variant:"outline",children:$e.length})]})}),$e.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notes yet. Start taking notes!"}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:$e.map(i=>{var D;return e.jsx(xe,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.title}),e.jsx(F,{className:(D=ve.find(P=>P.value===i.priority))==null?void 0:D.color,children:i.priority}),e.jsx(F,{variant:"outline",className:"text-xs",children:i.category})]}),e.jsx("div",{className:"whitespace-pre-line text-sm text-gray-700 mb-2",children:i.content}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(U,{className:"w-3 h-3"}),i.timestamp.toLocaleString(),i.tags.length>0&&e.jsx("div",{className:"flex gap-1 ml-2",children:i.tags.map(P=>e.jsx(F,{variant:"outline",className:"text-xs",children:P},P))})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(g,{onClick:()=>Mt(i),variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx(g,{onClick:()=>At(i.id),variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:e.jsx(Ge,{className:"w-4 h-4"})})]})]})})},i.id)})})]})]})]})]})}),e.jsx(oe,{open:A,onOpenChange:v,children:e.jsxs(K,{className:"max-w-md",children:[e.jsx(Q,{children:e.jsxs(Z,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-blue-600"}),"Create Sticky Note"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),e.jsx(B,{placeholder:"Sticky note title...",value:f,onChange:i=>w(i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-gray-200",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>c(H(b,"header")),className:"h-8 px-2",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>c(H(b,"bold")),className:"h-8 px-2",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>c(H(b,"italic")),className:"h-8 px-2",children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>c(H(b,"bullets")),className:"h-8 px-2",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>c(H(b,"numbered")),className:"h-8 px-2",children:e.jsx(xs,{className:"w-4 h-4"})})]})]}),e.jsx(q,{placeholder:"Enter your sticky note content...",value:b,onChange:i=>c(i.target.value),rows:4}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ne.map(i=>e.jsx("button",{className:m("w-10 h-10 rounded-xl border-2 transition-all duration-200 shadow-lg",i.value,i.border,i.shadow,j===i.value?"ring-2 ring-blue-500 scale-110":"hover:scale-105"),onClick:()=>$(i.value),children:e.jsx("div",{className:"w-full h-full rounded-lg opacity-80"})},i.name))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),e.jsxs(fe,{value:we,onValueChange:i=>Qe(i),children:[e.jsx(ie,{children:e.jsx(be,{})}),e.jsx(de,{children:ve.map(i=>e.jsx(te,{value:i.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${i.color}`}),i.label]})},i.value))})]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-600"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pin to Position"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"pinMode",checked:ee,onChange:i=>Ze(i.target.checked),className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"pinMode",className:"text-sm text-gray-600",children:"Pin to specific screen position"})]}),ee&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pin Position"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(g,{variant:se==="top-left"?"default":"outline",size:"sm",onClick:()=>le("top-left"),className:"h-12 flex flex-col items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Top Left"})]}),e.jsxs(g,{variant:se==="center"?"default":"outline",size:"sm",onClick:()=>le("center"),className:"h-12 flex flex-col items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Center"})]}),e.jsxs(g,{variant:se==="top-right"?"default":"outline",size:"sm",onClick:()=>le("top-right"),className:"h-12 flex flex-col items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Top Right"})]}),e.jsxs(g,{variant:se==="bottom-left"?"default":"outline",size:"sm",onClick:()=>le("bottom-left"),className:"h-12 flex flex-col items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Bottom Left"})]}),e.jsx("div",{}),e.jsxs(g,{variant:se==="bottom-right"?"default":"outline",size:"sm",onClick:()=>le("bottom-right"),className:"h-12 flex flex-col items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Bottom Right"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{onClick:Ft,disabled:!b.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[ee?e.jsx(ne,{className:"w-4 h-4 mr-2"}):e.jsx(ce,{className:"w-4 h-4 mr-2"}),ee?"Pin Note":"Create Sticky"]}),e.jsx(g,{variant:"outline",onClick:()=>v(!1),children:"Cancel"})]})]})]})}),Pt&&Vt.map(i=>e.jsx(ar,{sticky:i,onDelete:()=>Ot(i.id),onUpdate:D=>rs(i.id,D),onToggleCollapse:()=>_t(i.id)},i.id))]})},ar=({sticky:s,onDelete:a,onUpdate:r,onToggleCollapse:o})=>{const[t,n]=l.useState(!1),[u,N]=l.useState(!1),[h,y]=l.useState({x:0,y:0}),[S,k]=l.useState(!1),[T,R]=l.useState(s.content),[I,p]=l.useState(s.title),[z,E]=l.useState(!1),M=Ne.find(w=>w.value===s.color)||Ne[0],V=ve.find(w=>w.value===s.priority)||ve[1],A=(w,j)=>{w.preventDefault(),j==="drag"?(n(!0),y({x:w.clientX-s.x,y:w.clientY-s.y})):(N(!0),y({x:w.clientX-s.width,y:w.clientY-s.height}))},v=l.useCallback(w=>{t?r({x:w.clientX-h.x,y:w.clientY-h.y}):u&&r({width:Math.max(200,w.clientX-h.x),height:Math.max(150,w.clientY-h.y)})},[t,u,h,r]),b=l.useCallback(()=>{n(!1),N(!1)},[]);l.useEffect(()=>{if(t||u)return document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b)}},[t,u,v,b]);const c=()=>{r({content:T,title:I}),k(!1)},f=()=>{R(s.content),p(s.title),k(!1)};return s.isCollapsed?e.jsxs("div",{className:m("fixed w-14 h-14 rounded-full shadow-xl cursor-pointer border-2 transition-all duration-300 hover:scale-125 group",M.value,M.border,M.shadow,"flex items-center justify-center backdrop-blur-sm",s.isPinned&&"ring-2 ring-blue-400 ring-opacity-50"),style:{left:s.x,top:s.y,opacity:s.opacity,zIndex:s.zIndex},onClick:o,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[e.jsx(re,{className:"w-6 h-6 text-gray-700 group-hover:rotate-12 transition-transform"}),s.priority==="high"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse shadow-lg",children:e.jsx(it,{className:"w-2 h-2 text-white m-1"})}),s.isPinned&&e.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-blue-500 rounded-full shadow-lg",children:e.jsx(ce,{className:"w-2 h-2 text-white m-1"})}),z&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-black text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[s.title,e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black"})]})]}):e.jsxs("div",{className:m("fixed rounded-2xl shadow-2xl cursor-move border-2 transition-all duration-300 backdrop-blur-sm",M.value,M.border,M.shadow,t?"scale-105 shadow-3xl rotate-2":"hover:shadow-xl",u&&"ring-2 ring-blue-400",s.isPinned&&"ring-2 ring-blue-400 ring-opacity-50"),style:{left:s.x,top:s.y,width:s.width,height:s.height,opacity:s.opacity,zIndex:s.zIndex},onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/10 rounded-t-2xl cursor-move backdrop-blur-sm",onMouseDown:w=>!s.isPinned&&A(w,"drag"),children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.isPinned?e.jsx(ce,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}):e.jsx(Da,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-sm truncate",children:s.title}),e.jsx(F,{className:`${V.color} text-xs`,children:s.priority}),s.isPinned&&e.jsx(F,{className:"bg-blue-100 text-blue-700 text-xs",children:"Pinned"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-white/50",onClick:()=>r({isPinned:!s.isPinned}),children:s.isPinned?e.jsx(ne,{className:"w-3 h-3 text-blue-600"}):e.jsx(ce,{className:"w-3 h-3"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-white/50",onClick:()=>k(!S),children:e.jsx(je,{className:"w-3 h-3"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-white/50",onClick:()=>r({opacity:s.opacity===.95?.7:.95}),children:e.jsx(Pa,{className:"w-3 h-3"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-white/50",onClick:o,children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100",onClick:a,children:e.jsx(X,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"p-4 flex-1 overflow-hidden",children:S?e.jsxs("div",{className:"space-y-2 h-full flex flex-col",children:[e.jsx(B,{value:I,onChange:w=>p(w.target.value),className:"text-sm bg-white/90 border-gray-200",placeholder:"Note title..."}),e.jsx(q,{value:T,onChange:w=>R(w.target.value),className:"flex-1 text-sm bg-white/90 resize-none border-gray-200",placeholder:"Note content..."}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(g,{onClick:c,size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Save"]}),e.jsx(g,{onClick:f,variant:"outline",size:"sm",className:"h-8 text-xs",children:"Cancel"})]})]}):e.jsxs("div",{className:"h-full overflow-auto",children:[e.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed font-medium",children:s.content}),e.jsxs("div",{className:"text-xs text-gray-500 mt-3 pt-2 border-t border-black/10 flex items-center justify-between",children:[e.jsx("span",{children:s.timestamp.toLocaleDateString()}),e.jsx("span",{children:s.timestamp.toLocaleTimeString()})]})]})}),!s.isPinned&&e.jsx("div",{className:"absolute bottom-0 right-0 w-5 h-5 cursor-se-resize opacity-50 hover:opacity-100 transition-opacity group",onMouseDown:w=>A(w,"resize"),children:e.jsx("div",{className:"w-full h-full flex items-end justify-end p-1",children:e.jsx("div",{className:"w-3 h-3 border-r-2 border-b-2 border-gray-600 rounded-br group-hover:border-blue-500"})})}),s.isPinned&&e.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-blue-500 rounded-full shadow-lg animate-pulse"})]})},Kr=({pageId:s})=>e.jsx(tr,{pageId:s||window.location.pathname,className:"fixed bottom-6 right-6 z-50"}),rr=({title:s="Physique 57 Analytics",subtitle:a,variant:r="default"})=>{const[o,t]=l.useState(0),[n,u]=l.useState("");l.useEffect(()=>{const k=setInterval(()=>{t(R=>R>=85?15:R+3)},80),T=setInterval(()=>{u(R=>R.length>=3?"":R+".")},500);return()=>{clearInterval(k),clearInterval(T)}},[]);const h=(()=>{const k=Ra(r);switch(r){case"sales":return{icon:pe,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading sales analytics and revenue data..."};case"discounts":return{icon:dt,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading discount and promotional analysis..."};case"funnel":return{icon:Y,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading funnel and lead conversion data..."};case"retention":return{icon:_e,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading client retention and conversion data..."};case"attendance":return{icon:U,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading class attendance and session data..."};case"analytics":return{icon:Te,gradient:k.activeTabGradient,accentColor:`bg-${k.accentColors.secondary}`,defaultSubtitle:"Loading analytics and performance data..."};default:return{icon:ke,gradient:"from-slate-600 to-slate-800",accentColor:"bg-slate-500",defaultSubtitle:"Loading dashboard..."}}})(),y=h.icon,S=a||h.defaultSubtitle;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-r from-purple-500/15 to-indigo-500/15 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s",animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-indigo-500/10 to-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"5s",animationDelay:"1s"}})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center space-y-8 max-w-md text-center px-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${h.gradient} rounded-2xl flex items-center justify-center shadow-2xl`,children:e.jsx(y,{className:"w-10 h-10 text-white animate-pulse"})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent bg-gradient-to-r from-blue-500/50 to-purple-500/50 animate-spin",style:{animationDuration:"3s"},children:e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:`w-2 h-2 ${h.accentColor} rounded-full`})})})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${h.gradient} rounded-full transition-all duration-300 ease-out`,style:{width:`${o}%`}})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:s}),e.jsxs("p",{className:"text-slate-600 text-base leading-relaxed",children:[S,n]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:`w-3 h-3 ${h.accentColor} rounded-full animate-bounce`,style:{animationDelay:"0ms"}}),e.jsx("div",{className:`w-3 h-3 ${h.accentColor} rounded-full animate-bounce`,style:{animationDelay:"150ms"}}),e.jsx("div",{className:`w-3 h-3 ${h.accentColor} rounded-full animate-bounce`,style:{animationDelay:"300ms"}})]})]})]})},Qr=()=>{const{isLoading:s,loadingMessage:a}=Ia();if(!s)return null;const o=(t=>{const n=t.toLowerCase();return n.includes("sales")||n.includes("revenue")?"sales":n.includes("discount")||n.includes("promotion")?"discounts":n.includes("funnel")||n.includes("lead")?"funnel":n.includes("retention")||n.includes("conversion")?"retention":n.includes("attendance")||n.includes("class")?"attendance":n.includes("analytics")||n.includes("performance")?"analytics":"default"})(a);return e.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:e.jsx(rr,{variant:o,subtitle:a})})},Zr=()=>e.jsxs("footer",{className:"relative h-16 overflow-hidden font-mono text-xs tracking-wide text-slate-400",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-800 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-950/30 via-transparent to-purple-950/20"}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-5 text-center whitespace-nowrap",children:[e.jsx("span",{className:"text-xs font-medium bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent tracking-widest",children:"PHYSIQUE 57 INDIA"}),e.jsx("div",{className:"w-px h-3 bg-slate-600"}),e.jsx("span",{className:"tracking-widest",children:"© 2025 ALL RIGHTS RESERVED"}),e.jsx("div",{className:"w-px h-3 bg-slate-600"}),e.jsx("span",{className:"tracking-widest",children:"BUSINESS INTELLIGENCE DASHBOARD"}),e.jsx("div",{className:"w-px h-3 bg-slate-600"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"tracking-widest",children:"PROJECT BY"}),e.jsx("span",{className:"text-white bg-gradient-to-r from-blue-500 to-purple-600 px-2 py-0.5 rounded-full text-[11px] font-medium tracking-wider",children:"JIMMEEY"})]})]})})]}),or=da,wt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx($s,d({ref:r,className:m("inline-flex h-14 items-center justify-center rounded-2xl glass-card p-2 text-muted-foreground shadow-lg border backdrop-blur-md transition-all duration-500 hover:shadow-xl hover:scale-[1.02]",s)},a))});wt.displayName=$s.displayName;const Ct=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Ms,d({ref:r,className:m("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-6 py-3 text-sm font-semibold transition-all duration-300 ease-out relative overflow-hidden group","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","text-muted-foreground hover:text-foreground hover:bg-accent/50 hover:scale-105","data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary/80 data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-primary/25","before:absolute before:inset-0 before:bg-gradient-to-r before:from-primary/10 before:to-accent/10 before:opacity-0 before:transition-opacity before:duration-300 hover:before:opacity-100",s)},a))});Ct.displayName=Ms.displayName;const St=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(As,d({ref:r,className:m("mt-8 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2","animate-fade-in animate-slide-up opacity-0 [&[data-state=active]]:opacity-100 transition-all duration-500",s)},a))});St.displayName=As.displayName;const We=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("div",{className:"table-modern relative w-full overflow-auto",children:e.jsx("table",d({ref:r,className:m("w-full caption-bottom text-sm",s)},a))})});We.displayName="Table";const Je=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("thead",d({ref:r,className:m("bg-gradient-to-r from-slate-700 to-slate-800 [&_tr]:border-none [&_th]:text-white [&_th]:font-bold",s)},a))});Je.displayName="TableHeader";const Ye=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("tbody",d({ref:r,className:m("[&_tr:last-child]:border-0",s)},a))});Ye.displayName="TableBody";const kt=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("tfoot",d({ref:r,className:m("border-t-2 border-slate-300 bg-gradient-to-r from-slate-100 via-blue-50 to-slate-100 font-semibold text-slate-700 shadow-inner [&>tr]:last:border-b-0 [&_td]:py-4 [&_td]:px-4 [&_td]:font-semibold",s)},a))});kt.displayName="TableFooter";const me=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("tr",d({ref:r,className:m("h-[35px] max-h-[35px] table-row-modern data-[state=selected]:bg-primary/10 data-[state=selected]:shadow-sm",s)},a))});me.displayName="TableRow";const Xe=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("th",d({ref:r,className:m("h-[35px] max-h-[35px] px-4 py-2 text-left align-middle text-white font-bold [&:has([role=checkbox])]:pr-0",s)},a))});Xe.displayName="TableHead";const De=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("td",d({ref:r,className:m("h-[35px] max-h-[35px] px-4 py-2 align-middle text-sm [&:has([role=checkbox])]:pr-0",s)},a))});De.displayName="TableCell";const lr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx("caption",d({ref:r,className:m("mt-4 text-sm text-muted-foreground",s)},a))});lr.displayName="TableCaption";const nr=ca,ir=ma,dr=xa,eo=({open:s,onOpenChange:a,sources:r})=>{var t;const o=n=>{const u=n&&n.length>0?n[0]:null;return u?Object.keys(u):[]};return e.jsx(oe,{open:s,onOpenChange:a,children:e.jsxs(K,{className:"max-w-5xl w-[95vw]",children:[e.jsx(Q,{children:e.jsx(Z,{className:"text-slate-900",children:"Source Data Viewer"})}),r.length===0?e.jsx("div",{className:"text-sm text-slate-600",children:"No sources provided."}):e.jsxs(or,{defaultValue:(t=r[0])==null?void 0:t.name,className:"w-full",children:[e.jsx(wt,{className:"mb-4",children:r.map(n=>e.jsx(Ct,{value:n.name,children:n.name},n.name))}),r.map(n=>{const u=o(n.data),N=(n.data||[]).slice(0,500);return e.jsxs(St,{value:n.name,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.spreadsheetId&&e.jsx(F,{variant:"outline",className:"border-slate-200 text-slate-700",children:n.spreadsheetId}),n.sheetName&&e.jsxs(F,{variant:"secondary",className:"text-slate-700",children:["Sheet: ",n.sheetName]}),e.jsxs(F,{className:"bg-slate-900 text-white",children:["Rows shown: ",N.length]})]}),e.jsx("div",{className:m(W.card.background,W.card.shadow,W.card.border,W.card.radius,"overflow-hidden"),children:e.jsx("div",{className:"overflow-auto",style:{maxHeight:"60vh"},children:e.jsxs(We,{children:[e.jsx(Je,{className:W.table.header+" sticky top-0 z-10",children:e.jsx(me,{children:u.map(h=>e.jsx(Xe,{className:m(W.table.headerText,"px-4 py-3"),children:h},h))})}),e.jsx(Ye,{children:N.map((h,y)=>e.jsx(me,{className:W.table.row,children:u.map(S=>e.jsx(De,{className:m(W.table.cell),children:h[S]!==void 0&&h[S]!==null?String(h[S]):""},S))},y))})]})})})]},n.name)})]})]})})},cr=ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Fs,d({ref:r,className:m(cr(),s)},a))});_.displayName=Fs.displayName;const G=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Os,C(d({ref:r,className:m("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s)},a),{children:e.jsx(ua,{className:m("flex items-center justify-center text-current"),children:e.jsx(He,{className:"h-4 w-4"})})}))});G.displayName=Os.displayName;function qe(t){var n=t,{className:s,classNames:a,showOutsideDays:r=!0}=n,o=x(n,["className","classNames","showOutsideDays"]);return e.jsx(ha,d({showOutsideDays:r,className:m("p-3",s),classNames:d({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:m(Ve({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:m(Ve({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},a),components:{IconLeft:N=>{var u=x(N,[]);return e.jsx(Ea,{className:"h-4 w-4"})},IconRight:N=>{var u=x(N,[]);return e.jsx(ct,{className:"h-4 w-4"})}}},o))}qe.displayName="Calendar";const Tt=pa,Rt=ga,Ke=l.forwardRef((n,t)=>{var u=n,{className:s,align:a="center",sideOffset:r=4}=u,o=x(u,["className","align","sideOffset"]);return e.jsx(fa,{children:e.jsx(_s,d({ref:t,align:a,sideOffset:r,className:m("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s)},o))})});Ke.displayName=_s.displayName;function mr({value:s,onChange:a,className:r}){const[o,t]=l.useState(s);l.useEffect(()=>{t(s)},[s]);const n=u=>{t(u),a==null||a(u)};return e.jsx("div",{className:m("grid gap-2",r),children:e.jsxs(Tt,{children:[e.jsx(Rt,{asChild:!0,children:e.jsxs(g,{id:"date",variant:"outline",className:m("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),o!=null&&o.from?o.to?e.jsxs(e.Fragment,{children:[ae(o.from,"LLL dd, y")," -"," ",ae(o.to,"LLL dd, y")]}):ae(o.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(Ke,{className:"w-auto p-0",align:"start",children:e.jsx(qe,{initialFocus:!0,mode:"range",defaultMonth:o==null?void 0:o.from,selected:o,onSelect:n,numberOfMonths:2,className:"p-3 pointer-events-auto"})})]})})}const so=({salesData:s=[],sessionsData:a=[],newClientData:r=[],payrollData:o=[],lateCancellationsData:t=[],discountData:n=[],additionalData:u={},defaultFileName:N,size:h="default",variant:y="outline"})=>{const{exportAllData:S,isExporting:k}=za(),[T,R]=l.useState(!1),[I,p]=l.useState("pdf"),[z,E]=l.useState(N||`dashboard-export-${ae(new Date,"yyyy-MM-dd")}`),[M,V]=l.useState(!1),[A,v]=l.useState(),[b,c]=l.useState({sales:!0,sessions:!0,clientConversion:!0,trainerPerformance:!0,lateCancellations:!0,discounts:!0,additional:!0}),f=()=>Fe(void 0,null,function*(){try{const j=d(d(d(d(d(d(d({},b.sales&&{salesData:s}),b.sessions&&{sessionsData:a}),b.clientConversion&&{newClientData:r}),b.trainerPerformance&&{payrollData:o}),b.lateCancellations&&{lateCancellationsData:t}),b.discounts&&{discountData:n}),b.additional&&{additionalData:u}),$=d({format:I,fileName:z,includeCharts:M},(A==null?void 0:A.from)&&(A==null?void 0:A.to)&&{dateRange:{start:A.from.toISOString(),end:A.to.toISOString()}});yield S(j,$),R(!1)}catch(j){}}),w=()=>{let j=0;return b.sales&&(j+=s.length),b.sessions&&(j+=a.length),b.clientConversion&&(j+=r.length),b.trainerPerformance&&(j+=o.length),b.lateCancellations&&(j+=t.length),b.discounts&&(j+=n.length),b.additional&&(j+=Object.values(u).reduce(($,we)=>$+we.length,0)),j};return e.jsxs(oe,{open:T,onOpenChange:R,children:[e.jsx(bt,{asChild:!0,children:e.jsxs(g,{variant:y,size:h,className:"gap-2 font-semibold bg-transparent hover:bg-white/10 text-base rounded-2xl text-purple-300 hover:text-purple-200 border border-purple-300/30 hover:border-purple-200/50 backdrop-blur-sm transition-all duration-300 ease-out hover:shadow-lg hover:shadow-purple-500/20",children:[e.jsx(Re,{className:"w-4 h-4"}),"Export All Data"]})}),e.jsxs(K,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Q,{children:[e.jsxs(Z,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5"}),"Advanced Data Export"]}),e.jsx(vt,{children:"Export comprehensive data from all dashboard sections. Choose your format and customize the export options."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"format",children:"Export Format"}),e.jsxs(fe,{value:I,onValueChange:j=>p(j),children:[e.jsx(ie,{children:e.jsx(be,{placeholder:"Choose format"})}),e.jsxs(de,{children:[e.jsx(te,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4"}),"PDF Report"]})}),e.jsx(te,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($a,{className:"w-4 h-4"}),"CSV Spreadsheet"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"filename",children:"File Name"}),e.jsx(B,{id:"filename",value:z,onChange:j=>E(j.target.value),placeholder:"Enter file name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"Date Range Filter (Optional)"}),e.jsx(mr,{value:A,onChange:v,className:"w-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(_,{children:"Data Sections to Include"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"sales",checked:b.sales,onCheckedChange:j=>c($=>C(d({},$),{sales:!!j}))}),e.jsxs(_,{htmlFor:"sales",className:"text-sm",children:["Sales Analytics (",s.length," records)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"sessions",checked:b.sessions,onCheckedChange:j=>c($=>C(d({},$),{sessions:!!j}))}),e.jsxs(_,{htmlFor:"sessions",className:"text-sm",children:["Sessions Data (",a.length," records)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"clientConversion",checked:b.clientConversion,onCheckedChange:j=>c($=>C(d({},$),{clientConversion:!!j}))}),e.jsxs(_,{htmlFor:"clientConversion",className:"text-sm",children:["Client Conversion (",r.length," records)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"trainerPerformance",checked:b.trainerPerformance,onCheckedChange:j=>c($=>C(d({},$),{trainerPerformance:!!j}))}),e.jsxs(_,{htmlFor:"trainerPerformance",className:"text-sm",children:["Trainer Performance (",o.length," records)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"lateCancellations",checked:b.lateCancellations,onCheckedChange:j=>c($=>C(d({},$),{lateCancellations:!!j}))}),e.jsxs(_,{htmlFor:"lateCancellations",className:"text-sm",children:["Late Cancellations (",t.length," records)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"discounts",checked:b.discounts,onCheckedChange:j=>c($=>C(d({},$),{discounts:!!j}))}),e.jsxs(_,{htmlFor:"discounts",className:"text-sm",children:["Discounts & Promotions (",n.length," records)"]})]}),Object.keys(u).length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"additional",checked:b.additional,onCheckedChange:j=>c($=>C(d({},$),{additional:!!j}))}),e.jsxs(_,{htmlFor:"additional",className:"text-sm",children:["Additional Data (",Object.values(u).reduce((j,$)=>j+$.length,0)," records)"]})]})]})]}),I==="pdf"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"charts",checked:M,onCheckedChange:j=>V(!!j)}),e.jsx(_,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations (PDF only)"})]}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Export Summary:"}),e.jsx("br",{}),"Format: ",I.toUpperCase(),e.jsx("br",{}),"Total Records: ",w().toLocaleString(),e.jsx("br",{}),"Sections: ",Object.values(b).filter(Boolean).length," selected"]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(g,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),e.jsx(g,{onClick:f,disabled:k||w()===0,className:"gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx(Ma,{className:"w-4 h-4 animate-spin"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4"}),"Export ",I.toUpperCase()]})})]})]})]})},xr=l.forwardRef((t,o)=>{var n=t,{className:s,children:a}=n,r=x(n,["className","children"]);return e.jsxs(Vs,C(d({ref:o,className:m("relative overflow-hidden",s)},r),{children:[e.jsx(ba,{className:"h-full w-full rounded-[inherit]",children:a}),e.jsx(It,{}),e.jsx(Na,{})]}))});xr.displayName=Vs.displayName;const It=l.forwardRef((t,o)=>{var n=t,{className:s,orientation:a="vertical"}=n,r=x(n,["className","orientation"]);return e.jsx(Bs,C(d({ref:o,orientation:a,className:m("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s)},r),{children:e.jsx(va,{className:"relative flex-1 rounded-full bg-border"})}))});It.displayName=Bs.displayName;const to=({data:s,columns:a,loading:r=!1,stickyHeader:o=!1,showFooter:t=!1,footerData:n,maxHeight:u,className:N,headerGradient:h="from-slate-600 to-slate-700",onSort:y,sortField:S,sortDirection:k,onRowClick:T})=>{const R=p=>{if(typeof p=="string"&&(p.includes("₹")||p.includes("$"))){const z=parseFloat(p.replace(/[₹$,]/g,""));if(!isNaN(z)&&z<1e3)return`₹${Math.round(z)}`}return p},I=p=>{p.sortable&&y&&y(p.key)};return e.jsx("div",{className:m("relative overflow-auto rounded-xl",N),style:{maxHeight:u},children:e.jsxs(We,{className:"w-full",children:[e.jsx(Je,{className:m(o&&"sticky top-0 z-20","bg-slate-100 border-b border-slate-300",h),children:e.jsx(me,{className:"border-none h-12",children:a.map(p=>e.jsx(Xe,{className:m("font-bold h-12 px-4 text-sm whitespace-nowrap text-slate-900",p.align==="center"&&"text-center",p.align==="right"&&"text-right",p.sortable&&"cursor-pointer hover:bg-slate-200 transition-colors",p.className),onClick:()=>I(p),children:e.jsxs("div",{className:"flex items-center gap-2",children:[p.header,p.sortable&&S===p.key&&(k==="asc"?e.jsx(Be,{className:"w-4 h-4"}):e.jsx(Pe,{className:"w-4 h-4"}))]})},p.key))})}),e.jsx(Ye,{children:s.map((p,z)=>e.jsx(me,{className:m("hover:bg-muted/40 transition-all duration-200 h-12 table-row-stripe",T&&"cursor-pointer hover:scale-[1.01] hover:shadow-sm"),onClick:()=>T==null?void 0:T(p),children:a.map(E=>e.jsx(De,{className:m("h-12 px-4 py-3 text-sm font-medium",E.align==="center"&&"text-center",E.align==="right"&&"text-right",E.className),children:e.jsx("div",{className:"flex items-center h-full",children:E.render?E.render(p[E.key],p):e.jsx("span",{className:"truncate",children:R(p[E.key])})})},E.key))},z))}),t&&n&&e.jsx(kt,{className:"sticky bottom-0 z-10 bg-primary/90 backdrop-blur-sm border-t border-border",children:e.jsx(me,{className:"hover:bg-primary/95 h-12 border-none",children:a.map(p=>e.jsx(De,{className:m("font-bold text-primary-foreground h-12 px-4 py-3 text-sm",p.align==="center"&&"text-center",p.align==="right"&&"text-right",p.className),children:e.jsx("div",{className:"flex items-center h-full",children:p.render?p.render(n[p.key],n):e.jsx("span",{className:"truncate",children:R(n[p.key])})})},p.key))})})]})})},ur={sales:"from-slate-900 via-purple-900 to-slate-800",client:"from-gray-900 via-blue-900 to-gray-800",trainer:"from-zinc-900 via-indigo-900 to-zinc-800",sessions:"from-neutral-900 via-orange-900 to-neutral-800",discounts:"from-stone-900 via-amber-900 to-stone-800",funnel:"from-slate-900 via-violet-900 to-slate-800",attendance:"from-gray-900 via-emerald-900 to-gray-800",powercycle:"from-zinc-900 via-cyan-900 to-zinc-800",expiration:"from-neutral-900 via-red-900 to-neutral-800",cancellations:"from-stone-900 via-rose-900 to-stone-800",summary:"from-slate-900 via-teal-900 to-slate-800"},gs={sales:[pe,Ha,Te,Y],client:[_e,ps,Oe,ge],trainer:[ps,Ba,ke,Oe],sessions:[U,Ie,U,hs],discounts:[dt,ge,Y,Va],funnel:[_a,Y,pe,Te],attendance:[hs,_e,ke,U],powercycle:[it,ke,pe,Y],expiration:[Ie,U,Y,ge],cancellations:[X,U,Ie,Y],summary:[Te,pe,Oe,ge]},J=({Icon:s,className:a,delay:r=0})=>e.jsx("div",{className:`absolute ${a} animate-float opacity-20 hover:opacity-40 transition-opacity duration-300`,style:{animationDelay:`${r}s`},children:e.jsx(s,{className:"w-full h-full text-white drop-shadow-lg"})}),hr=({variant:s})=>{const a=gs[s]||gs.summary;return e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx(J,{Icon:a[0],className:"top-10 left-10 w-16 h-16",delay:0}),e.jsx(J,{Icon:a[1],className:"top-32 right-20 w-12 h-12",delay:.5}),e.jsx(J,{Icon:a[2],className:"bottom-20 left-32 w-20 h-20",delay:1}),e.jsx(J,{Icon:a[3],className:"bottom-32 right-1/3 w-14 h-14",delay:1.5}),e.jsx(J,{Icon:a[0],className:"top-1/2 left-1/4 w-10 h-10",delay:.8}),e.jsx(J,{Icon:a[1],className:"top-20 right-1/2 w-8 h-8",delay:1.2}),e.jsx(J,{Icon:a[2],className:"top-3/4 right-1/4 w-6 h-6",delay:.3}),e.jsx(J,{Icon:a[3],className:"bottom-1/2 left-1/6 w-8 h-8",delay:1.8}),e.jsx("div",{className:"absolute top-1/4 left-1/3 w-3 h-3 bg-white/30 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute top-1/3 right-1/5 w-2 h-2 bg-white/40 rounded-full animate-ping",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-4 h-4 bg-white/20 rounded-full animate-bounce",style:{animationDelay:"1.5s"}}),e.jsx("div",{className:"absolute top-2/3 right-2/3 w-2 h-2 bg-white/50 rounded-full animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute bottom-1/6 right-1/6 w-3 h-3 bg-white/30 rounded-full animate-ping",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"h-full w-full bg-grid-white/[0.05] [mask-image:radial-gradient(ellipse_at_center,white,transparent_75%)]"})})]})},ao=({title:s,subtitle:a,variant:r,onExport:o,showHomeButton:t=!0,metrics:n=[],exportButton:u,location:N})=>{const h=ja(),[y,S]=l.useState(!1),[k,T]=l.useState(null),R=l.useRef(null),I=()=>Fe(void 0,null,function*(){if(R.current){if(y){R.current.pause(),S(!1);return}try{T(null);const p=r==="sales"||r==="summary"&&N==="Kwality House"?"/kwality-house-audio.mp3":"/placeholder-audio.mp3";R.current.src=p,R.current.load(),R.current.volume=.8;const z=R.current.play();z!==void 0&&(yield z,S(!0))}catch(p){let z="Failed to play audio.";p.name==="NotAllowedError"?z="Audio playback was blocked by browser. Please enable autoplay or try again.":p.name==="NotSupportedError"?z="Audio format not supported by your browser.":p.name==="AbortError"&&(z="Audio playback was aborted."),T(z),setTimeout(()=>T(null),5e3)}}});return e.jsxs("div",{className:`relative min-h-[588px] overflow-hidden bg-gradient-to-br ${ur[r]} text-white`,children:[e.jsxs("audio",{ref:R,onEnded:()=>{S(!1)},onError:p=>{T("Audio file could not be loaded"),S(!1)},onLoadStart:()=>{},onCanPlay:()=>{},onPlay:()=>{},onPause:()=>{},preload:"metadata",controls:!1,children:[e.jsx("source",{src:"/kwality-house-audio.mp3",type:"audio/mpeg"}),e.jsx("source",{src:"/placeholder-audio.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),e.jsx(hr,{variant:r}),e.jsx("div",{className:"absolute top-6 left-6 z-20",children:t&&e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>h("/"),className:"text-white/90 hover:text-white hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-300 hover:scale-105",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Dashboard"]})}),e.jsxs("div",{className:"absolute top-6 right-6 z-20 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(g,{variant:"ghost",size:"sm",onClick:I,className:`text-white/90 hover:text-white hover:bg-white/20 backdrop-blur-sm border transition-all duration-300 hover:scale-105 ${k?"border-red-400/50 bg-red-500/10":"border-white/20"}`,children:[y?e.jsx(Fa,{className:"w-4 h-4 mr-2"}):e.jsx(Oa,{className:"w-4 h-4 mr-2"}),y?"Pause":"Play"]}),u||o&&e.jsxs(g,{variant:"ghost",size:"sm",onClick:o,className:"text-white/90 hover:text-white bg-transparent hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-300 hover:scale-105",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Export"]})]}),k&&e.jsx("div",{className:"bg-red-500/20 text-white text-xs px-3 py-2 rounded-lg backdrop-blur-sm border border-red-400/30 max-w-xs",children:k})]}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[588px] p px-[12px] py-12",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 animate-fade-in bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent drop-shadow-lg",children:s}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 animate-slide-up delay-200 max-w-2xl mx-auto leading-relaxed mb-8",children:a}),n.length>0&&e.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto animate-fade-in delay-300",children:n.slice(0,3).map((p,z)=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[e.jsx("div",{className:"text-sm text-white/70 font-medium mb-2",children:p.location}),e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:p.value}),e.jsx("div",{className:"text-sm text-white/80",children:p.label})]},z))}),e.jsxs("div",{className:"mt-8 flex justify-center space-x-2 animate-scale-in delay-500",children:[e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-white/40 rounded-full animate-pulse delay-200"}),e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-pulse delay-500"})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/40 to-transparent"})]})},ro=({className:s})=>{const[a,r]=l.useState(!1),[o,t]=l.useState([]),[n,u]=l.useState([]),[N,h]=l.useState(""),[y,S]=l.useState(null),[k,T]=l.useState(!1),[R,I]=l.useState("");l.useEffect(()=>{const v=localStorage.getItem("noteTaker-notes"),b=localStorage.getItem("noteTaker-stickyNotes");if(v)try{const c=JSON.parse(v).map(f=>C(d({},f),{timestamp:new Date(f.timestamp)}));t(c)}catch(c){}if(b)try{const c=JSON.parse(b).map(f=>C(d({},f),{timestamp:new Date(f.timestamp)}));u(c)}catch(c){}},[]),l.useEffect(()=>{localStorage.setItem("noteTaker-notes",JSON.stringify(o))},[o]),l.useEffect(()=>{localStorage.setItem("noteTaker-stickyNotes",JSON.stringify(n))},[n]);const p=v=>v.trim()?v.split(`
`).filter(c=>c.trim()).map(c=>{const f=c.trim();return f.startsWith("•")||f.startsWith("-")||f.startsWith("*")?`• ${f.substring(1).trim()}`:`• ${f}`}).join(`
`):"",z=()=>{if(!N.trim())return;const v=p(N),b={id:Date.now().toString(),content:v,timestamp:new Date,isRichText:!1};y?(t(c=>c.map(f=>f.id===y?C(d({},f),{content:v}):f)),S(null)):t(c=>[b,...c]),h("")},E=v=>{h(v.content),S(v.id)},M=v=>{t(b=>b.filter(c=>c.id!==v))},V=()=>{if(!R.trim())return;const v=["bg-yellow-200","bg-pink-200","bg-blue-200","bg-green-200","bg-purple-200"],b=v[Math.floor(Math.random()*v.length)],c={id:Date.now().toString(),content:R,x:Math.random()*(window.innerWidth-200),y:Math.random()*(window.innerHeight-150)+100,timestamp:new Date,color:b};u(f=>[...f,c]),I(""),T(!1)},A=v=>{u(b=>b.filter(c=>c.id!==v))};return e.jsxs(e.Fragment,{children:[e.jsx(g,{onClick:()=>r(!0),className:m("fixed bottom-6 right-6 z-50 rounded-full w-14 h-14 shadow-2xl","bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700","text-white border-0 transition-all duration-300 hover:scale-110",s),size:"icon",children:e.jsx(re,{className:"w-6 h-6"})}),e.jsx(oe,{open:a,onOpenChange:r,children:e.jsxs(K,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Q,{children:e.jsxs(Z,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),"Smart Notes"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:y?"Edit Note":"Add New Note"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{onClick:()=>T(!0),variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(nt,{className:"w-4 h-4"}),"Sticky Note"]}),y&&e.jsx(g,{onClick:()=>{S(null),h("")},variant:"outline",size:"sm",children:e.jsx(X,{className:"w-4 h-4"})})]})]}),e.jsx(q,{placeholder:"Type your notes here... (will be auto-formatted as bullet points)",value:N,onChange:v=>h(v.target.value),className:"min-h-24",rows:4}),e.jsxs(g,{onClick:z,className:"gap-2",disabled:!N.trim(),children:[e.jsx(Le,{className:"w-4 h-4"}),y?"Update Note":"Save Note"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:["Your Notes",e.jsx(F,{variant:"outline",children:o.length})]}),o.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notes yet. Start taking notes!"}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.map(v=>e.jsx(xe,{className:"border border-gray-200",children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"whitespace-pre-line text-sm text-gray-700 mb-2",children:v.content}),e.jsx("div",{className:"text-xs text-gray-500",children:v.timestamp.toLocaleString()})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(g,{onClick:()=>E(v),variant:"ghost",size:"sm",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx(g,{onClick:()=>M(v.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(Ge,{className:"w-4 h-4"})})]})]})})},v.id))})]})]})]})}),e.jsx(oe,{open:k,onOpenChange:T,children:e.jsxs(K,{className:"max-w-md",children:[e.jsx(Q,{children:e.jsx(Z,{children:"Create Sticky Note"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(q,{placeholder:"Enter your sticky note content...",value:R,onChange:v=>I(v.target.value),rows:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{onClick:V,disabled:!R.trim(),children:"Create Sticky"}),e.jsx(g,{variant:"outline",onClick:()=>T(!1),children:"Cancel"})]})]})]})}),n.map(v=>e.jsx(pr,{sticky:v,onDelete:()=>A(v.id),onMove:(b,c)=>{u(f=>f.map(w=>w.id===v.id?C(d({},w),{x:b,y:c}):w))}},v.id))]})},pr=({sticky:s,onDelete:a,onMove:r})=>{const[o,t]=l.useState(!1),[n,u]=l.useState({x:0,y:0}),N=S=>{t(!0),u({x:S.clientX-s.x,y:S.clientY-s.y})},h=S=>{o&&r(S.clientX-n.x,S.clientY-n.y)},y=()=>{t(!1)};return l.useEffect(()=>{if(o)return document.addEventListener("mousemove",h),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y)}},[o,n]),e.jsxs("div",{className:m("fixed w-48 min-h-32 p-3 rounded-lg shadow-lg cursor-move z-40 border-2 border-gray-300",s.color,o?"scale-105 shadow-2xl":""),style:{left:s.x,top:s.y,transform:o?"rotate(-2deg)":"rotate(1deg)"},onMouseDown:N,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Note"}),e.jsx(g,{onClick:a,variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-gray-600 hover:text-red-600",children:e.jsx(X,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:s.content}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:s.timestamp.toLocaleDateString()})]})};function oo({value:s,onChange:a,className:r}){return e.jsx("div",{className:m("grid gap-2",r),children:e.jsxs(Tt,{children:[e.jsx(Rt,{asChild:!0,children:e.jsxs(g,{id:"date",variant:"outline",className:m("w-full justify-start text-left font-normal",!s.from&&"text-muted-foreground"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),s.from?s.to?e.jsxs(e.Fragment,{children:[ae(s.from,"LLL dd, y")," -"," ",ae(s.to,"LLL dd, y")]}):ae(s.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(Ke,{className:"w-auto p-0",align:"start",children:e.jsx(qe,{initialFocus:!0,mode:"range",defaultMonth:s.from,selected:s,onSelect:o=>a(o||{}),numberOfMonths:2,className:m("p-3 pointer-events-auto")})})]})})}const gr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Hs,d({ref:r,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s)},a))});gr.displayName=Hs.displayName;const fr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Gs,d({ref:r,className:m("aspect-square h-full w-full",s)},a))});fr.displayName=Gs.displayName;const br=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Us,d({ref:r,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",s)},a))});br.displayName=Us.displayName;const Nr=l.forwardRef((t,o)=>{var n=t,{className:s,value:a}=n,r=x(n,["className","value"]);return e.jsx(Ws,C(d({ref:o,className:m("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s)},r),{children:e.jsx(ya,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}))});Nr.displayName=Ws.displayName;const lo=({pageId:s,title:a="Personal Notes"})=>{const[r,o]=l.useState(!1),[t,n]=l.useState(!0),[u,N]=l.useState([]),[h,y]=l.useState(null),[S,k]=l.useState(""),[T,R]=l.useState("all"),[I,p]=l.useState({title:"",content:"",tags:[],priority:"medium",category:"general"}),z=`trainer-notes-${s}`;l.useEffect(()=>{const c=localStorage.getItem(z);if(c)try{N(JSON.parse(c))}catch(f){}},[z]),l.useEffect(()=>{localStorage.setItem(z,JSON.stringify(u))},[u,z]);const E=()=>{if(!I.title.trim()||!I.content.trim())return;const c={id:Date.now().toString(),title:I.title,content:I.content,tags:I.tags,priority:I.priority,category:I.category,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};N(f=>[c,...f]),p({title:"",content:"",tags:[],priority:"medium",category:"general"}),o(!1)},M=(c,f)=>{N(w=>w.map(j=>j.id===c?C(d(d({},j),f),{updatedAt:new Date().toISOString()}):j)),y(null)},V=c=>{N(f=>f.filter(w=>w.id!==c))},A=c=>{switch(c){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=u.filter(c=>{const f=c.title.toLowerCase().includes(S.toLowerCase())||c.content.toLowerCase().includes(S.toLowerCase())||c.tags.some(j=>j.toLowerCase().includes(S.toLowerCase())),w=T==="all"||c.category===T;return f&&w}),b=["all",...Array.from(new Set(u.map(c=>c.category)))];return e.jsx("div",{className:"w-full",children:e.jsx(nr,{open:!t,onOpenChange:c=>n(!c),children:e.jsxs(xe,{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 border-indigo-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(ir,{asChild:!0,children:e.jsx(ze,{className:"cursor-pointer hover:bg-white/50 transition-colors rounded-t-lg",children:e.jsxs(Ue,{className:"flex items-center justify-between text-indigo-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(mt,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold",children:a}),e.jsxs("div",{className:"text-sm text-indigo-600 font-normal",children:[u.length," ",u.length===1?"note":"notes"," saved"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200",children:t?"Expand":"Collapse"}),t?e.jsx(Pe,{className:"w-5 h-5 text-indigo-600"}):e.jsx(Be,{className:"w-5 h-5 text-indigo-600"})]})]})})}),e.jsx(dr,{children:e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(B,{placeholder:"Search notes...",value:S,onChange:c=>k(c.target.value),className:"pl-10 bg-white/80 border-indigo-200 focus:border-indigo-400"})]}),e.jsx("div",{className:"flex gap-2",children:b.map(c=>e.jsx(g,{variant:T===c?"default":"outline",size:"sm",onClick:()=>R(c),className:T===c?"bg-indigo-600 hover:bg-indigo-700":"border-indigo-200 hover:bg-indigo-50",children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),e.jsxs(oe,{open:r,onOpenChange:o,children:[e.jsx(bt,{asChild:!0,children:e.jsxs(g,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg",children:[e.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Add Note"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsxs(Z,{className:"flex items-center gap-2 text-indigo-800",children:[e.jsx(re,{className:"w-5 h-5"}),"Create New Note"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{placeholder:"Note title...",value:I.title,onChange:c=>p(f=>C(d({},f),{title:c.target.value})),className:"text-lg font-semibold"}),e.jsx(q,{placeholder:"Write your note here...",value:I.content,onChange:c=>p(f=>C(d({},f),{content:c.target.value})),rows:6,className:"resize-none"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Priority"}),e.jsxs("select",{value:I.priority,onChange:c=>p(f=>C(d({},f),{priority:c.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Category"}),e.jsx(B,{placeholder:"Category...",value:I.category,onChange:c=>p(f=>C(d({},f),{category:c.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Tags"}),e.jsx(B,{placeholder:"Add tags (comma separated)",onChange:c=>p(f=>C(d({},f),{tags:c.target.value.split(",").map(w=>w.trim()).filter(Boolean)}))})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsxs(g,{onClick:E,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Save Note"]})]})]})]})]})]}),v.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(c=>e.jsxs(xe,{className:"bg-white/80 hover:bg-white shadow-sm hover:shadow-md transition-all duration-200 border-l-4 border-l-indigo-400",children:[e.jsx(ze,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[h===c.id?e.jsx(B,{value:c.title,onChange:f=>M(c.id,{title:f.target.value}),onBlur:()=>y(null),onKeyDown:f=>f.key==="Enter"&&y(null),className:"font-semibold text-sm",autoFocus:!0}):e.jsx("h3",{className:"font-semibold text-gray-800 text-sm line-clamp-2",children:c.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(F,{className:`text-xs ${A(c.priority)}`,children:[e.jsx(ge,{className:"w-3 h-3 mr-1"}),c.priority]}),e.jsxs(F,{variant:"outline",className:"text-xs",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),c.category]})]})]}),e.jsxs("div",{className:"flex gap-1 ml-2",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>y(c.id),className:"p-1 h-6 w-6 hover:bg-indigo-100",children:e.jsx(je,{className:"w-3 h-3"})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>V(c.id),className:"p-1 h-6 w-6 hover:bg-red-100 text-red-600",children:e.jsx(Ge,{className:"w-3 h-3"})})]})]})}),e.jsxs(ue,{className:"pt-0",children:[h===c.id?e.jsx(q,{value:c.content,onChange:f=>M(c.id,{content:f.target.value}),onBlur:()=>y(null),rows:3,className:"text-sm resize-none"}):e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-3",children:c.content}),c.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:c.tags.map((f,w)=>e.jsxs(F,{variant:"secondary",className:"text-xs bg-indigo-50 text-indigo-700",children:["#",f]},w))}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 border-t pt-2",children:[e.jsx(Ie,{className:"w-3 h-3"}),e.jsxs("span",{children:[new Date(c.updatedAt).toLocaleDateString()," at ",new Date(c.updatedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},c.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:S||T!=="all"?"No notes match your search criteria":"No notes yet. Create your first note to get started!"})]})]})})]})})})},vr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Js,C(d({className:m("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s)},a),{ref:r,children:e.jsx(wa,{className:m("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});vr.displayName=Js.displayName;const no=Ca,io=Sa,jr=l.forwardRef((n,t)=>{var u=n,{className:s,inset:a,children:r}=u,o=x(u,["className","inset","children"]);return e.jsxs(qs,C(d({ref:t,className:m("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s)},o),{children:[r,e.jsx(ct,{className:"ml-auto h-4 w-4"})]}))});jr.displayName=qs.displayName;const yr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(Ks,d({ref:r,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s)},a))});yr.displayName=Ks.displayName;const wr=l.forwardRef((t,o)=>{var n=t,{className:s,sideOffset:a=4}=n,r=x(n,["className","sideOffset"]);return e.jsx(ka,{children:e.jsx(Ys,d({ref:o,sideOffset:a,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s)},r))})});wr.displayName=Ys.displayName;const Cr=l.forwardRef((t,o)=>{var n=t,{className:s,inset:a}=n,r=x(n,["className","inset"]);return e.jsx(Xs,d({ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s)},r))});Cr.displayName=Xs.displayName;const Sr=l.forwardRef((n,t)=>{var u=n,{className:s,children:a,checked:r}=u,o=x(u,["className","children","checked"]);return e.jsxs(Qs,C(d({ref:t,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r},o),{children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Zs,{children:e.jsx(He,{className:"h-4 w-4"})})}),a]}))});Sr.displayName=Qs.displayName;const kr=l.forwardRef((t,o)=>{var n=t,{className:s,children:a}=n,r=x(n,["className","children"]);return e.jsxs(et,C(d({ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},r),{children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Zs,{children:e.jsx(Ua,{className:"h-2 w-2 fill-current"})})}),a]}))});kr.displayName=et.displayName;const Tr=l.forwardRef((t,o)=>{var n=t,{className:s,inset:a}=n,r=x(n,["className","inset"]);return e.jsx(st,d({ref:o,className:m("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s)},r))});Tr.displayName=st.displayName;const Rr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(tt,d({ref:r,className:m("-mx-1 my-1 h-px bg-muted",s)},a))});Rr.displayName=tt.displayName;const zt=ye("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Ir=l.forwardRef((n,t)=>{var u=n,{className:s,variant:a,size:r}=u,o=x(u,["className","variant","size"]);return e.jsx(at,d({ref:t,className:m(zt({variant:a,size:r,className:s}))},o))});Ir.displayName=at.displayName;const Dt=l.createContext({size:"default",variant:"default"}),zr=l.forwardRef((u,n)=>{var N=u,{className:s,variant:a,size:r,children:o}=N,t=x(N,["className","variant","size","children"]);return e.jsx(rt,C(d({ref:n,className:m("flex items-center justify-center gap-1",s)},t),{children:e.jsx(Dt.Provider,{value:{variant:a,size:r},children:o})}))});zr.displayName=rt.displayName;const Dr=l.forwardRef((u,n)=>{var N=u,{className:s,children:a,variant:r,size:o}=N,t=x(N,["className","children","variant","size"]);const h=l.useContext(Dt);return e.jsx(ot,C(d({ref:n,className:m(zt({variant:h.variant||r,size:h.size||o}),s)},t),{children:a}))});Dr.displayName=ot.displayName;const Pr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(O,d({ref:r,className:m("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s)},a))});Pr.displayName=O.displayName;const Lr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(xt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(O.Input,d({ref:r,className:m("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s)},a))]})});Lr.displayName=O.Input.displayName;const Er=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(O.List,d({ref:r,className:m("max-h-[300px] overflow-y-auto overflow-x-hidden",s)},a))});Er.displayName=O.List.displayName;const $r=l.forwardRef((s,a)=>e.jsx(O.Empty,d({ref:a,className:"py-6 text-center text-sm"},s)));$r.displayName=O.Empty.displayName;const Mr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(O.Group,d({ref:r,className:m("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s)},a))});Mr.displayName=O.Group.displayName;const Ar=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(O.Separator,d({ref:r,className:m("-mx-1 h-px bg-border",s)},a))});Ar.displayName=O.Separator.displayName;const Fr=l.forwardRef((o,r)=>{var t=o,{className:s}=t,a=x(t,["className"]);return e.jsx(O.Item,d({ref:r,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s)},a))});Fr.displayName=O.Item.displayName;export{Q as $,io as A,F as B,xe as C,oo as D,wr as E,Cr as F,zr as G,Dr as H,B as I,Rt as J,Ke as K,_ as L,qe as M,Pr as N,Lr as O,Tt as P,Er as Q,$r as R,fe as S,We as T,Mr as U,Fr as V,so as W,eo as X,to as Y,oe as Z,K as _,nr as a,Z as a0,kt as a1,xr as a2,ro as a3,ao as a4,q as a5,gr as a6,fr as a7,br as a8,Nr as a9,lo as aa,Zr as ab,Wr as ac,Jr as ad,Kr as ae,Qr as af,rr as ag,ir as b,ue as c,g as d,dr as e,ie as f,be as g,de as h,te as i,ze as j,Ue as k,vr as l,Je as m,me as n,Xe as o,Ye as p,De as q,or as r,wt as s,Ct as t,St as u,Yr as v,Xr as w,qr as x,Xa as y,no as z};
